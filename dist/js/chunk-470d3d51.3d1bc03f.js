(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-470d3d51"],{"004e":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"py-3"},[a("b-container",[a("b-modal",{ref:"device-error",attrs:{"hide-footer":"","header-bg-variant":"danger","header-text-variant":"white",centered:"",title:"設備異常警告"}},[a("p",{staticClass:"my-4 text-center"},[t._v(" 有設備異常，請儘速至現場檢查，並聯絡技術人員。 ")])]),a("b-card",{staticClass:"mb-3 border-0",attrs:{header:"進排風系統","header-text-variant":"white","header-class":"font-weight-bold dark-blue"}},[a("b-row",t._l(t.defaultTable,(function(t,e){return a("b-col",{key:"fan-"+e,staticClass:"py-3",attrs:{lg:"3"}},[a("div",[a("SystemInfoCard",{attrs:{name:t[0].name,error:t[0].error,status:t[0].status}})],1)])})),1)],1)],1)],1)},s=[],n=(a("4160"),a("b0c0"),a("159b"),a("d3ed")),o=a("8a15"),i=a("d068"),c={name:"PageCentralSystem",components:{SystemInfoCard:i["a"]},data:function(){return{defaultTable:o,pointTable:n,errorFlag:!1}},watch:{errorFlag:"showErrorModel"},beforeMount:function(){this.readFanSystem()},methods:{readFanSystem:function(){var t=this,e="http://192.168.1.10/proxy/api/device/value/read_fan_000";this.axios.get(e).then((function(e){var a=/^DIn/;console.log(e.data),e.data.forEach((function(e){a.test(e.name)&&t.pointTable[e.address].forEach((function(a){a.status===e.name?a.status=e.status:a.error===e.name&&(a.error=e.status,1===a.error&&(t.errorFlag=!0))})),t.defaultTable=t.pointTable}))})).catch((function(t){console.log(t)}))},error:function(){this.errorFlag=!0},showErrorModel:function(){this.$refs["device-error"].show()}}},d=c,l=(a("d623"),a("2877")),u=Object(l["a"])(d,r,s,!1,null,"bbcf2d2e",null);e["default"]=u.exports},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),s=a("5899"),n="["+s+"]",o=RegExp("^"+n+n+"*"),i=RegExp(n+n+"*$"),c=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(o,"")),2&t&&(a=a.replace(i,"")),a}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,e,a){var r=a("861d"),s=a("d2bb");t.exports=function(t,e,a){var n,o;return s&&"function"==typeof(n=e.constructor)&&n!==a&&r(o=n.prototype)&&o!==a.prototype&&s(t,o),t}},"8a15":function(t){t.exports=JSON.parse('{"3":[{"name":"B1F 20HP排風機","status":99,"error":0}],"4":[{"name":"B1F 10HP進風機","status":99,"error":0}],"5":[{"name":"B2F 15HP進風機","status":99,"error":0}],"6":[{"name":"B2F 20HP排風機","status":99,"error":0}],"8":[{"name":"B3F 15HP進風機","status":99,"error":0}],"9":[{"name":"B3F 25HP排風機","status":99,"error":0}],"10":[{"name":"B4F 25HP排風機","status":99,"error":0}],"11":[{"name":"B4F 15HP進風機","status":99,"error":0}]}')},a9e3:function(t,e,a){"use strict";var r=a("83ab"),s=a("da84"),n=a("94ca"),o=a("6eeb"),i=a("5135"),c=a("c6b6"),d=a("7156"),l=a("c04e"),u=a("d039"),f=a("7c73"),h=a("241c").f,p=a("06cf").f,m=a("9bf2").f,b=a("58a8").trim,v="Number",g=s[v],y=g.prototype,I=c(f(y))==v,C=function(t){var e,a,r,s,n,o,i,c,d=l(t,!1);if("string"==typeof d&&d.length>2)if(d=b(d),e=d.charCodeAt(0),43===e||45===e){if(a=d.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:r=2,s=49;break;case 79:case 111:r=8,s=55;break;default:return+d}for(n=d.slice(2),o=n.length,i=0;i<o;i++)if(c=n.charCodeAt(i),c<48||c>s)return NaN;return parseInt(n,r)}return+d};if(n(v,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var F,x=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof x&&(I?u((function(){y.valueOf.call(a)})):c(a)!=v)?d(new g(C(e)),a,x):C(e)},_=r?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)i(g,F=_[w])&&!i(x,F)&&m(x,F,p(g,F));x.prototype=y,y.constructor=x,o(s,v,x)}},b0c0:function(t,e,a){var r=a("83ab"),s=a("9bf2").f,n=Function.prototype,o=n.toString,i=/^\s*function ([^ (]*)/,c="name";r&&!(c in n)&&s(n,c,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(t){return""}}})},d068:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0===t.error?a("div",[0===t.status?a("b-card",{staticClass:"shadow",attrs:{header:t.name,"header-tag":"header"}},[a("div",{staticClass:"py-1",staticStyle:{color:"darkgray"}},[a("b-icon-emoji-smile",{staticClass:"mx-1"}),a("span",[t._v("正常待機")])],1)]):t._e(),1===t.status?a("b-card",{staticClass:"shadow",attrs:{header:t.name,"header-tag":"header","header-text-variant":"white","header-bg-variant":"success"}},[a("div",{staticClass:"py-1",staticStyle:{color:"#42b983"}},[a("b-icon-check-square-fill",{staticClass:"mx-1"}),a("span",[t._v("設備運行")])],1)]):t._e(),-1===t.status?a("b-card",{staticClass:"shadow",attrs:{header:t.name,"header-tag":"header","header-text-variant":"white","header-bg-variant":"primary"}},[a("div",{staticClass:"py-1",staticStyle:{color:"deepskyblue"}},[a("b-icon-droplet-fill",{staticClass:"mx-1"}),a("span",[t._v("水位正常")])],1)]):t._e(),99===t.status?a("b-card",{staticClass:"shadow",attrs:{header:t.name,"header-tag":"header"}},[a("div",{staticClass:"py-1",staticStyle:{color:"darkgray"}},[a("b-icon-clock-history",{staticClass:"mx-1"}),a("span",[t._v("等待回應...")])],1)]):t._e()],1):a("div",[1===t.error?a("div",[-1===t.status?a("b-card",{staticClass:"shadow",attrs:{header:t.name,"header-tag":"header","header-text-variant":"white","header-bg-variant":"danger"}},[a("div",{staticClass:"py-1",staticStyle:{color:"lightcoral"}},[a("b-icon-exclamation-circle-fill",{staticClass:"mx-1"}),a("span",[t._v("水位異常")])],1)]):a("b-card",{staticClass:"shadow",attrs:{header:t.name,"header-tag":"header","header-text-variant":"white","header-bg-variant":"danger"}},[a("div",{staticClass:"py-1",staticStyle:{color:"lightcoral"}},[a("b-icon-exclamation-triangle-fill",{staticClass:"mx-1"}),a("span",[t._v("泵補異常")])],1)])],1):t._e()])])},s=[],n=(a("a9e3"),{name:"SystemInfoCard",props:{name:{type:String,default:"",required:!0},error:{type:Number,default:0,required:!0},status:{type:Number,default:0,required:!0}}}),o=n,i=a("2877"),c=Object(i["a"])(o,r,s,!1,null,"41d93752",null);e["a"]=c.exports},d3ed:function(t){t.exports=JSON.parse('{"3":[{"name":"B1F 20HP排風機","status":"DIn01","error":"DIn04"}],"4":[{"name":"B1F 10HP進風機","status":"DIn01","error":"DIn04"}],"5":[{"name":"B2F 15HP進風機","status":"DIn01","error":"DIn04"}],"6":[{"name":"B2F 20HP排風機","status":"DIn01","error":"DIn04"}],"8":[{"name":"B3F 15HP進風機","status":"DIn01","error":"DIn04"}],"9":[{"name":"B3F 25HP排風機","status":"DIn01","error":"DIn04"}],"10":[{"name":"B4F 25HP排風機","status":"DIn01","error":"DIn04"}],"11":[{"name":"B4F 15HP進風機","status":"DIn01","error":"DIn04"}]}')},d623:function(t,e,a){"use strict";var r=a("e690"),s=a.n(r);s.a},e690:function(t,e,a){}}]);
//# sourceMappingURL=chunk-470d3d51.3d1bc03f.js.map