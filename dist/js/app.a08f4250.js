(function(t){function e(e){for(var n,r,s=e[0],l=e[1],u=e[2],c=0,p=[];c<s.length;c++)r=s[c],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);f&&f(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,r=1;r<i.length;r++){var l=i[r];0!==o[l]&&(n=!1)}n&&(a.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},o={app:0},a=[];function r(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-2d0bfecf":"8fc5e933","chunk-2d229026":"655d85c9","chunk-536156e4":"eddcbb3c","chunk-5378029e":"f121a9f2"}[t]+".js"}function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(t){var e=[],i=o[t];if(0!==i)if(i)e.push(i[2]);else{var n=new Promise((function(e,n){i=o[t]=[e,n]}));e.push(i[2]=n);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=r(t);var u=new Error;a=function(e){l.onerror=l.onload=null,clearTimeout(c);var i=o[t];if(0!==i){if(i){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",u.name="ChunkLoadError",u.type=n,u.request=a,i[1](u)}o[t]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var f=u;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("85ec"),o=i.n(n);o.a},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"nav"}},[i("router-link",{attrs:{to:"/device"}},[t._v(" Device ")]),i("router-link",{attrs:{to:"/config/wifi"}},[t._v(" Wifi Config ")]),i("router-link",{attrs:{to:"/driver-config"}},[t._v(" Driver Config ")]),i("router-link",{attrs:{to:"/imam-log"}},[t._v(" Imam Box Log ")]),i("router-link",{attrs:{to:"/config/io"}},[t._v(" IO Config ")]),i("router-link",{attrs:{to:"/config/ini"}},[t._v(" Ini Config ")])],1),i("div",{staticClass:"my-3"}),i("router-view")],1)},a=[],r=i("bc3a"),s=i.n(r),l={methods:{rebootImam:function(){var t=this.$store.state.url;s.a.post(t+"/api/system/reboot").then((function(t){alert(t)}))},getUSB:function(){var t=this.$store.state.url;s.a.get(t+"/api/system/usb").then((function(t){alert(t)}))},getLog:function(){var t=this.$store.state.url,e={name:"mainframe",action:"log"};s.a.post(t+"/api/system/systemd",e).then((function(t){console.log(t)}))}}},u=l,c=(i("034f"),i("2877")),f=Object(c["a"])(u,o,a,!1,null,null,null),p=f.exports,d=(i("d3b7"),i("8c4f")),m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",t._l(t.response.device,(function(e,n){return i("div",{key:n,staticClass:"my-3",attrs:{value:e}},[i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse-"+n,expression:"'collapse-'+ key"}],attrs:{variant:"info"},on:{click:function(i){return t.getValueList(e.port,e.address)}}},[t._v(" "+t._s(e.class)),i("br"),t._v(" "+t._s(e.model)+" ")]),i("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-"+n}},[i("b-card",[i("p",{staticClass:"card-text"},[t._v(" "+t._s(t.response.value[n])+" ")]),i("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-1-inner",modifiers:{"collapse-1-inner":!0}}],attrs:{size:"sm"}},[t._v(" Toggle Inner Collapse ")]),i("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-1-inner"}},[i("b-card",[t._v("Hello!")])],1)],1)],1)],1)})),0)},b=[],v={data:function(){return{response:{device:[],value:[{name:"hz",value:50},{name:"hz",value:60}],temp:[]}}},computed:{},beforeMount:function(){var t=this,e=this.$store.state.url;s.a.get(e+"/api/device").then((function(e){console.log(e),t.response.device=e.data,console.log(t.response.device)})),s.a.get(e+"/api/config").then((function(t){console.log(t)}))},methods:{getValueList:function(t,e){this.$store.commit("getDevice",{port:t,address:e}),console.log(this.$store.state.device),this.$router.push("/value")}}},g=v,h=Object(c["a"])(g,m,b,!1,null,null,null),_=h.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-container",[i("b-card",{staticClass:"my-3",attrs:{"bg-variant":"light"}},[i("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Value Write List","label-size":"lg","label-class":"font-weight-bold pt-0"}},t._l(t.value_list_write,(function(e,n){return i("div",{key:n,staticClass:"my-3",attrs:{value:e}},["w"===e.type?i("div",[i("b-row",[i("b-col",{attrs:{lg:"8"}},[i("b-form-group",{attrs:{"label-cols-sm":"3",label:e.name+"：","label-align-sm":"right","label-for":"driver-port-value"}},[i("b-form-input",{attrs:{id:"value-write-list-input-"+n,type:"text",placeholder:"Input the function's value"},model:{value:t.inputs[n].value,callback:function(e){t.$set(t.inputs[n],"value",e)},expression:"inputs[index_write].value"}})],1)],1),i("b-col",{attrs:{lg:"4"}},[i("b-button",{attrs:{type:"submit"},on:{click:function(e){return t.writeValue(n)}}},[t._v(" Submit "+t._s(e.value)+" ")])],1)],1)],1):t._e()])})),0)],1),i("b-card",{staticClass:"my-3",attrs:{"bg-variant":"light"}},[i("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Value Read List","label-size":"lg","label-class":"font-weight-bold pt-0"}},t._l(t.value_list_write,(function(e,n){return i("div",{key:n,staticClass:"my-3",attrs:{value:e}},["r"===e.type?i("div",[i("b-row",[i("b-col",{attrs:{lg:"8"}},[i("b-form-group",{attrs:{"label-cols-sm":"3",label:e.name+"：","label-align-sm":"right","label-for":"driver-port-value"}},[i("b-form-input",{attrs:{id:"value-write-list-input-"+n,type:"text",placeholder:"Click the 'read' button:"},model:{value:t.inputs[n].value,callback:function(e){t.$set(t.inputs[n],"value",e)},expression:"inputs[index_write].value"}})],1)],1),i("b-col",{attrs:{lg:"4"}},[i("b-button",{attrs:{type:"submit"},on:{click:function(e){return t.readValue(n)}}},[t._v(" Read "+t._s(e.value)+" ")])],1)],1)],1):t._e()])})),0)],1)],1)],1)},y=[],k=(i("4160"),i("b0c0"),i("159b"),{data:function(){return{value_list_write:[],value_list_read:[],inputs:[]}},beforeMount:function(){var t=this,e=this.$store.state.url,i={port:this.$store.state.device.port,address:this.$store.state.device.address};s.a.post(e+"/api/device/value",i).then((function(e){t.response=e.data,t.value_list_write=e.data,t.value_list_read=e.data,e.data.forEach((function(e){t.inputs.push({key:e.value,value:""})}))}))},methods:{readValue:function(t){var e=this,i=this.$store.state.url,n={port:this.$store.state.device.port,address:this.$store.state.device.address,name:this.inputs[t].key};s.a.post(i+"/api/device/value/read",n).then((function(i){e.inputs[t].value=i.data.value,console.log("name:"+i.data.name+"\nstatus:"+i.data.status+"\nvalue:"+i.data.value+"\n")}))},writeValue:function(t){var e=this.$store.state.url,i={port:this.$store.state.device.port,address:this.$store.state.device.address,name:this.inputs[t].key,value:parseInt(this.inputs[t].value)};s.a.post(e+"/api/device/value/write",i).then((function(t){alert("name:"+t.data.name+"\nstatus:"+t.data.status+"\nvalue:"+t.data.value+"\n")}))}}}),x=k,C=Object(c["a"])(x,w,y,!1,null,null,null),$=C.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("b-container",[i("b-card",{staticClass:"my-3",attrs:{"bg-variant":"light"}},[i("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Input Wifi Config","label-size":"lg","label-class":"font-weight-bold pt-0"}},[i("b-btn",{on:{click:function(e){return t.addInputWifi()}}},[t._v(" Add more input for Wifi config ")]),t._l(t.inputs.wifi,(function(e,n){return i("div",{key:n},[i("h4",{staticClass:"text-left"},[t._v(" "+t._s(n+1)+". ")]),i("b-form-group",{attrs:{"label-cols-sm":"3",label:"SSID:","label-align-sm":"right","label-for":"wifi-config-ssid"}},[i("b-form-input",{attrs:{id:"wifi-config-ssid",type:"text",placeholder:"Input the service set identifier."},model:{value:t.inputs.wifi[n].ssid,callback:function(e){t.$set(t.inputs.wifi[n],"ssid",e)},expression:"inputs.wifi[index].ssid"}})],1),i("b-form-group",{attrs:{"label-cols-sm":"3",label:"PSK:","label-align-sm":"right","label-for":"wifi-config-psk"}},[i("b-form-input",{attrs:{id:"wifi-config-psk",type:"text",placeholder:"Input the pre-shared key."},model:{value:t.inputs.wifi[n].psk,callback:function(e){t.$set(t.inputs.wifi[n],"psk",e)},expression:"inputs.wifi[index].psk"}})],1),i("b-form-group",{attrs:{"label-cols-sm":"3",label:"Key_MGMT:","label-align-sm":"right","label-for":"wifi-config-key-mgmt"}},[i("b-form-select",{attrs:{id:"wifi-config-key-mgmt",options:t.options.wifi.ket_mgmt,placeholder:"Input the key management."},model:{value:t.inputs.wifi[n].key_mgmt,callback:function(e){t.$set(t.inputs.wifi[n],"key_mgmt",e)},expression:"inputs.wifi[index].key_mgmt"}})],1),i("b-form-group",{attrs:{"label-cols-sm":"3",label:"Priority:","label-align-sm":"right","label-for":"wifi-config-priority"}},[i("b-form-select",{attrs:{id:"wifi-config-priority",options:t.options.wifi.priority,placeholder:"Input the priority."},model:{value:t.inputs.wifi[n].priority,callback:function(e){t.$set(t.inputs.wifi[n],"priority",e)},expression:"inputs.wifi[index].priority"}})],1)],1)}))],2),i("b-button",{attrs:{type:"submit"},on:{click:function(e){return t.writeWifi()}}},[t._v(" Submit ")])],1),i("b-card",[i("p",[t._v(t._s(t.response.wifi_config))])])],1)],1)},P=[],S={data:function(){return{inputs:{wifi:[{ssid:"",psk:"",key_mgmt:"",priority:0}]},response:{wifi_config:[]},options:{wifi:{ket_mgmt:["WPA-PSK","WPA2-PSK"],priority:["0","1","2","3","4","5"]}}}},beforeMount:function(){this.readWifi()},methods:{writeWifi:function(){var t=this,e=this.$store.state.url,i={network:this.inputs.wifi};s.a.post(e+"/api/config/network",i).then((function(e){console.log(e.data),t.readWifi()}))},readWifi:function(){var t=this,e=this.$store.state.url;s.a.get(e+"/api/config/network").then((function(e){t.response.wifi_config=e.data.network}))},addInputWifi:function(){this.inputs.wifi.push({ssid:"",psk:"",key_mgmt:"",priority:0})}}},O=S,j=Object(c["a"])(O,I,P,!1,null,null,null),D=j.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"example-2"}},[i("b-container",[i("b-card",{attrs:{"bg-variant":"light"}},[i("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Input Your Port List","label-size":"lg","label-class":"font-weight-bold pt-0"}},[i("b-btn",{on:{click:function(e){return t.addInputPort()}}},[t._v(" Add more input for port list ")]),t._l(t.inputs.port,(function(e,n){return i("div",{key:n},[i("h4",{staticClass:"text-left"},[t._v(" "+t._s(n+1)+". ")]),i("b-form-group",{attrs:{"label-cols-sm":"3",label:"Name:","label-align-sm":"right","label-for":"driver-port-name"}},[i("b-form-input",{attrs:{id:"driver-port-name",type:"text",placeholder:"Input the port's name."},model:{value:e.text,callback:function(i){t.$set(e,"text",i)},expression:"item.text"}})],1),i("b-form-group",{attrs:{"label-cols-sm":"3",label:"Value:","label-align-sm":"right","label-for":"driver-port-value"}},[i("b-form-select",{attrs:{id:"driver-port-value",options:t.options.port.value},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"item.value"}})],1)],1)})),i("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-input-driver-list",modifiers:{"collapse-input-driver-list":!0}}],on:{click:function(e){return t.getPortText()}}},[t._v(" Submit Port List ")])],2)],1),i("div",{staticClass:"my-3",attrs:{id:"collapse-input-driver-list"}},[i("b-card",{attrs:{"bg-variant":"light"}},[i("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"Input Your Driver List","label-size":"lg","label-class":"font-weight-bold pt-0"}},[i("b-btn",{on:{click:function(e){return t.addInputDriver()}}},[t._v(" Add more input for Driver list ")]),t._l(t.inputs.driver,(function(e,n){return i("div",{key:n},[i("h4",{staticClass:"text-left"},[t._v(" "+t._s(n+1)+". ")]),i("b-form-group",{attrs:{"label-cols-sm":"3",label:"Model:","label-align-sm":"right","label-for":"driver-list-model"}},[i("b-form-select",{attrs:{id:"driver-list-model",options:t.response.model},model:{value:e.model,callback:function(i){t.$set(e,"model",i)},expression:"item.model"}})],1),i("b-form-group",{attrs:{"label-cols-sm":"3",label:"Port:","label-align-sm":"right","label-for":"driver-list-port"}},[i("b-form-select",{attrs:{id:"driver-list-port",options:t.response.port},model:{value:e.port,callback:function(i){t.$set(e,"port",i)},expression:"item.port"}})],1),i("b-form-group",{attrs:{"label-cols-sm":"3",label:"Address:","label-align-sm":"right","label-for":"driver-list-address"}},[i("b-form-input",{attrs:{id:"driver-list-address",type:"number",placeholder:"Input the driver's address."},model:{value:e.address,callback:function(i){t.$set(e,"address",i)},expression:"item.address"}})],1),i("b-form-group",{attrs:{"label-cols-sm":"3",label:"Config:","label-align-sm":"right","label-for":"driver-list-config"}},[i("b-form-input",{attrs:{id:"driver-list-config",type:"text",placeholder:"Input the driver's config."},model:{value:e.config,callback:function(i){t.$set(e,"config",i)},expression:"item.config"}})],1)],1)})),i("b-btn",{on:{click:function(e){return t.writeConfig()}}},[t._v(" Submit Driver List ")])],2)],1)],1)],1)],1)},L=[],E={data:function(){return{inputs:{port:[{text:"",value:""}],driver:[{model:"",port:"",address:"",config:""}]},response:{port:[],model:[],msg:""},options:{port:{value:["/dev/ttyUSB0","/dev/ttyUSB1","/dev/ttyUSB2","/dev/ttyUSB3"]}}}},beforeMount:function(){var t=this,e=this.$store.state.url;s.a.get(e+"/api/config/model").then((function(e){e.data.forEach((function(e){t.response.model.push({value:e.name,text:e.name})}))}))},methods:{writeConfig:function(){var t=this,e=this.$store.state.url,i={port:this.inputs.port,driver:this.inputs.driver};s.a.post(e+"/api/config",i).then((function(e){t.response.msg=e.data,alert("Successful submit!")}))},addInputPort:function(){this.inputs.port.push({text:"",value:""})},addInputDriver:function(){this.inputs.driver.push({model:"",port:"",address:"",config:""})},getPortText:function(){var t=this;this.inputs.port.forEach((function(e){t.response.port.push({text:e.value,value:e.text})}))}}},M=E,V=Object(c["a"])(M,W,L,!1,null,null,null),T=V.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("b-container",[i("h3",[t._v("Log")]),i("pre",{staticClass:"text-left"},[t._v("      "+t._s(t.response.log)+"\n  ")]),i("h3",[t._v("USB")]),i("pre",{staticClass:"text-left"},[t._v("      "+t._s(t.response.usb)+"\n  ")])])},A=[],B={name:"ImamLog",data:function(){return{response:{log:"",usb:""}}},beforeMount:function(){var t=this,e=this.$store.state.url,i={name:"mainframe",action:"log"};s.a.post(e+"/api/system/systemd",i).then((function(e){t.response.log=e.data.message})),s.a.get(e+"/api/system/usb").then((function(e){t.response.usb=e.data.message}))}},U=B,K=Object(c["a"])(U,z,A,!1,null,"a1e0268a",null),N=K.exports;n["default"].use(d["a"]);var J=[{path:"/device",name:"Device",component:_},{path:"/config",name:"config",component:function(){return i.e("chunk-2d0bfecf").then(i.bind(null,"4030"))},children:[{path:"io",component:function(){return i.e("chunk-536156e4").then(i.bind(null,"37c1"))}},{path:"ini",component:function(){return i.e("chunk-5378029e").then(i.bind(null,"e3ca"))}},{path:"wifi",component:function(){return i.e("chunk-2d229026").then(i.bind(null,"dc2c"))}}]},{path:"/wifi-config",name:"Wifi",component:D},{path:"/driver-config",name:"Driver",component:T},{path:"/value",name:"Value",component:$},{path:"/imam-log",name:"ImamLog",component:N},{path:"/io-config",name:"IOConfig",component:function(){return i.e("chunk-536156e4").then(i.bind(null,"37c1"))}},{path:"/ini-config",name:"IniConfig",component:function(){return i.e("chunk-5378029e").then(i.bind(null,"e3ca"))}}],R=new d["a"]({mode:"history",base:"/",routes:J}),Y=R,q=i("5f5b"),G=(i("f9e3"),i("2dd8"),i("b64b"),i("2f62")),H=i("a7fe"),F=i.n(H);s.a.defaults.withCredentials=!0,n["default"].use(F.a,s.a),n["default"].use(G["a"]);var Q=new G["a"].Store({state:{url:"",device:{port:"",address:""},config:{io:{data:{}},ini:{data:{}},wifi:{data:{}}}},mutations:{getDevice:function(t,e){var i=e.port,n=e.address;t.device.port=i,t.device.address=n},getIoConfigData:function(t){s.a.get(t.url+"/api/config/io").then((function(e){t.config.io.data=e.data})).catch((function(t){console.log(t)}))},getIniConfigData:function(t,e){s.a.get(t.url+"/api/config/ini/"+e).then((function(e){t.config.ini.data=e.data})).catch((function(t){console.log(t)}))},getWifiConfigData:function(t){s.a.get(t.url+"/api/config/network").then((function(e){t.config.wifi.data=e.data})).catch((function(t){console.log(t)}))},insertWifiConfigInput:function(t){t.config.wifi.data.push({ssid:"",psk:"",key_mgmt:"WPA-PSK",priority:0})},postWifiConfig:function(t){s.a.post(t.url+"/api/config/network",t.config.wifi.data).then((function(t){200===t.status&&console.log(t.data)})).catch((function(t){console.log(t)}))}},getters:{ioConfigOptions:function(t){return Object.keys(t.config.io.data)},ioConfigData:function(t){return t.config.io.data},iniConfigData:function(t){return t.config.ini.data},wifiConfigData:function(t){return t.config.wifi.data}}});n["default"].config.productionTip=!1,n["default"].use(q["a"]),new n["default"]({store:Q,router:Y,render:function(t){return t(p)}}).$mount("#app")},"85ec":function(t,e,i){}});
//# sourceMappingURL=app.a08f4250.js.map