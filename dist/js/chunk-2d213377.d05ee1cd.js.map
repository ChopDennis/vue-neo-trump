{"version":3,"sources":["webpack:///./src/components/Driver.vue?6ce9","webpack:///src/components/Driver.vue","webpack:///./src/components/Driver.vue?804b","webpack:///./src/components/Driver.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","addInputPort","_v","_l","inputs","item","index","key","_s","model","value","callback","$$v","$set","expression","options","port","directives","name","rawName","modifiers","setPortName","show","addInputDriver","response","writeConfig","staticRenderFns","component"],"mappings":"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","file":"js/chunk-2d213377.d05ee1cd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"example-2\"}},[_c('b-container',[_c('b-card',{attrs:{\"bg-variant\":\"light\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label-cols-lg\":\"3\",\"label\":\"輸入連接埠設定\",\"label-size\":\"lg\",\"label-class\":\"font-weight-bold pt-0\"}},[_c('b-btn',{on:{\"click\":function($event){return _vm.addInputPort()}}},[_vm._v(\" 新增連接埠設定欄位 \")]),_vm._l((_vm.inputs.port),function(item,index){return _c('div',{key:index},[_c('h4',{staticClass:\"text-left\"},[_vm._v(\" \"+_vm._s(index + 1)+\". \")]),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"名稱：\",\"label-align-sm\":\"right\",\"label-for\":\"driver-port-name\"}},[_c('b-form-input',{attrs:{\"id\":\"driver-port-name\",\"type\":\"text\",\"placeholder\":\"Input the port's name.\"},model:{value:(item.name),callback:function ($$v) {_vm.$set(item, \"name\", $$v)},expression:\"item.name\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"連接埠：\",\"label-align-sm\":\"right\",\"label-for\":\"driver-port-value\"}},[_c('b-form-select',{attrs:{\"id\":\"driver-port-value\",\"options\":_vm.options.port.value},model:{value:(item.port),callback:function ($$v) {_vm.$set(item, \"port\", $$v)},expression:\"item.port\"}})],1)],1)}),_c('b-btn',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-input-driver-list\",modifiers:{\"collapse-input-driver-list\":true}}],attrs:{\"block\":\"\"},on:{\"click\":function($event){return _vm.setPortName()}}},[_vm._v(\" 完成連接埠設定 \")])],2)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show.driverInputList),expression:\"show.driverInputList\"}],staticClass:\"my-3\",attrs:{\"id\":\"collapse-input-driver-list\"}},[_c('b-card',{attrs:{\"bg-variant\":\"light\"}},[_c('b-form-group',{staticClass:\"mb-0\",attrs:{\"label-cols-lg\":\"3\",\"label\":\"輸入驅動程式設定\",\"label-size\":\"lg\",\"label-class\":\"font-weight-bold pt-0\"}},[_c('b-btn',{on:{\"click\":function($event){return _vm.addInputDriver()}}},[_vm._v(\" 新增驅動程式設定欄位 \")]),_vm._l((_vm.inputs.driver),function(item,index){return _c('div',{key:index},[_c('h4',{staticClass:\"text-left\"},[_vm._v(\" \"+_vm._s(index + 1)+\". \")]),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"模組名稱：\",\"label-align-sm\":\"right\",\"label-for\":\"driver-list-model\"}},[_c('b-form-select',{attrs:{\"id\":\"driver-list-model\",\"options\":_vm.response.model},model:{value:(item.model),callback:function ($$v) {_vm.$set(item, \"model\", $$v)},expression:\"item.model\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"連接埠：\",\"label-align-sm\":\"right\",\"label-for\":\"driver-list-port\"}},[_c('b-form-select',{attrs:{\"id\":\"driver-list-port\",\"options\":_vm.response.port},model:{value:(item.port),callback:function ($$v) {_vm.$set(item, \"port\", $$v)},expression:\"item.port\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"記憶體位址：\",\"label-align-sm\":\"right\",\"label-for\":\"driver-list-address\"}},[_c('b-form-input',{attrs:{\"id\":\"driver-list-address\",\"type\":\"number\",\"placeholder\":\"Input the driver's address.\"},model:{value:(item.address),callback:function ($$v) {_vm.$set(item, \"address\", $$v)},expression:\"item.address\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"設定檔：\",\"label-align-sm\":\"right\",\"label-for\":\"driver-list-config\"}},[_c('b-form-input',{attrs:{\"id\":\"driver-list-config\",\"type\":\"text\",\"placeholder\":\"Input the driver's config.\"},model:{value:(item.config),callback:function ($$v) {_vm.$set(item, \"config\", $$v)},expression:\"item.config\"}})],1)],1)}),_c('b-btn',{attrs:{\"block\":\"\"},on:{\"click\":function($event){return _vm.writeConfig()}}},[_vm._v(\" 更新驅動程式設定 \")])],2)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"example-2\">\n    <b-container>\n      <b-card bg-variant=\"light\">\n        <b-form-group\n          label-cols-lg=\"3\"\n          label=\"輸入連接埠設定\"\n          label-size=\"lg\"\n          label-class=\"font-weight-bold pt-0\"\n          class=\"mb-0\"\n        >\n          <b-btn @click=\"addInputPort()\">\n            新增連接埠設定欄位\n          </b-btn>\n          <div\n            v-for=\"(item,index) in inputs.port\"\n            :key=\"index\"\n          >\n            <h4 class=\"text-left\">\n              {{ index + 1 }}.\n            </h4>\n            <b-form-group\n              label-cols-sm=\"3\"\n              label=\"名稱：\"\n              label-align-sm=\"right\"\n              label-for=\"driver-port-name\"\n            >\n              <b-form-input\n                id=\"driver-port-name\"\n                v-model=\"item.name\"\n                type=\"text\"\n                placeholder=\"Input the port's name.\"\n              />\n            </b-form-group>\n            <b-form-group\n              label-cols-sm=\"3\"\n              label=\"連接埠：\"\n              label-align-sm=\"right\"\n              label-for=\"driver-port-value\"\n            >\n              <b-form-select\n                id=\"driver-port-value\"\n                v-model=\"item.port\"\n                :options=\"options.port.value\"\n              />\n            </b-form-group>\n          </div>\n          <b-btn\n                  block\n            v-b-toggle.collapse-input-driver-list\n            @click=\"setPortName()\"\n          >\n           完成連接埠設定\n          </b-btn>\n        </b-form-group>\n      </b-card>\n      <div\n        v-show=\"show.driverInputList\"\n        id=\"collapse-input-driver-list\"\n        class=\"my-3\"\n      >\n        <b-card bg-variant=\"light\">\n          <b-form-group\n            label-cols-lg=\"3\"\n            label=\"輸入驅動程式設定\"\n            label-size=\"lg\"\n            label-class=\"font-weight-bold pt-0\"\n            class=\"mb-0\"\n          >\n            <b-btn @click=\"addInputDriver()\">\n              新增驅動程式設定欄位\n            </b-btn>\n            <div\n              v-for=\"(item,index) in inputs.driver\"\n              :key=\"index\"\n            >\n              <h4 class=\"text-left\">\n                {{ index + 1 }}.\n              </h4>\n              <b-form-group\n                label-cols-sm=\"3\"\n                label=\"模組名稱：\"\n                label-align-sm=\"right\"\n                label-for=\"driver-list-model\"\n              >\n                <b-form-select\n                  id=\"driver-list-model\"\n                  v-model=\"item.model\"\n                  :options=\"response.model\"\n                />\n              </b-form-group>\n              <b-form-group\n                label-cols-sm=\"3\"\n                label=\"連接埠：\"\n                label-align-sm=\"right\"\n                label-for=\"driver-list-port\"\n              >\n                <b-form-select\n                  id=\"driver-list-port\"\n                  v-model=\"item.port\"\n                  :options=\"response.port\"\n                />\n              </b-form-group>\n              <b-form-group\n                label-cols-sm=\"3\"\n                label=\"記憶體位址：\"\n                label-align-sm=\"right\"\n                label-for=\"driver-list-address\"\n              >\n                <b-form-input\n                  id=\"driver-list-address\"\n                  v-model=\"item.address\"\n                  type=\"number\"\n                  placeholder=\"Input the driver's address.\"\n                />\n              </b-form-group>\n              <b-form-group\n                label-cols-sm=\"3\"\n                label=\"設定檔：\"\n                label-align-sm=\"right\"\n                label-for=\"driver-list-config\"\n              >\n                <b-form-input\n                  id=\"driver-list-config\"\n                  v-model=\"item.config\"\n                  type=\"text\"\n                  placeholder=\"Input the driver's config.\"\n                />\n              </b-form-group>\n            </div>\n            <b-btn block @click=\"writeConfig()\">\n              更新驅動程式設定\n            </b-btn>\n          </b-form-group>\n        </b-card>\n      </div>\n    </b-container>\n  </div>\n</template>\n<script>\n    import axios from 'axios'\n\n    export default {\n        data: () => {\n            return {\n                inputs: {\n                    port: [],\n                    driver: []\n                },\n                response: {\n                    port: [],\n                    model: [],\n                    msg: \"\",\n                }, options: {\n                    port: {\n                        value: [\n                            '/dev/ttyUSB0',\n                            '/dev/ttyUSB1',\n                            '/dev/ttyUSB2',\n                            '/dev/ttyUSB3',\n                        ]\n                    }\n                },\n                show:{\n                    driverInputList:false\n                }\n            }\n        },\n        beforeMount() {\n            const baseUrl = this.$store.state.url\n            axios.get(baseUrl + '/api/config/model').then(\n                (response) => {\n                    response.data.forEach((item) => {\n                        this.response.model.push(\n                            {\n                                value: item.name,\n                                text: item.name\n                            }\n                        )\n                    })\n                }\n            )\n            axios.get(baseUrl + '/api/config').then(\n                (response) => {\n                    this.inputs.port = response.data.port\n                    this.inputs.driver = response.data.driver\n                    console.log(response.data)\n                }\n            )\n\n        },\n        methods: {\n            writeConfig() {\n                const baseUrl = this.$store.state.url\n                this.inputs.driver.forEach((item)=>{\n                    item.address = parseInt(item.address)\n                })\n                const request = {\n                    port: this.inputs.port,\n                    driver: this.inputs.driver\n                }\n                console.log(request)\n                axios.post(baseUrl + '/api/config', request).then(\n                    (response) => {\n                      if(response.data.message===\"Success\")\n                        alert(\"驅動程式更新成功！\")\n                    }\n                )\n            },\n            addInputPort() {\n                this.inputs.port.push({\n                    name: '',\n                    port: ''\n                })\n            },\n            addInputDriver() {\n                this.inputs.driver.push({\n                    address: '',\n                    config: '',\n                    model: '',\n                    port: '',\n                })\n            },\n            setPortName() {\n                this.show.driverInputList= true\n                this.response.port = []\n                this.inputs.port.forEach((item) => {\n                    this.response.port.push(\n                        {\n                            text: item.port,\n                            value: item.name\n                        }\n                    )\n                })\n                console.log(this.response.port)\n            }\n\n\n        }\n    }\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Driver.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Driver.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Driver.vue?vue&type=template&id=c49af7ac&\"\nimport script from \"./Driver.vue?vue&type=script&lang=js&\"\nexport * from \"./Driver.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}