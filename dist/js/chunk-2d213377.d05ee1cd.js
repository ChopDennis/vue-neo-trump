(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d213377"],{ac76:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"example-2"}},[r("b-container",[r("b-card",{attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"輸入連接埠設定","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-btn",{on:{click:function(e){return t.addInputPort()}}},[t._v(" 新增連接埠設定欄位 ")]),t._l(t.inputs.port,(function(e,s){return r("div",{key:s},[r("h4",{staticClass:"text-left"},[t._v(" "+t._s(s+1)+". ")]),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"名稱：","label-align-sm":"right","label-for":"driver-port-name"}},[r("b-form-input",{attrs:{id:"driver-port-name",type:"text",placeholder:"Input the port's name."},model:{value:e.name,callback:function(r){t.$set(e,"name",r)},expression:"item.name"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"連接埠：","label-align-sm":"right","label-for":"driver-port-value"}},[r("b-form-select",{attrs:{id:"driver-port-value",options:t.options.port.value},model:{value:e.port,callback:function(r){t.$set(e,"port",r)},expression:"item.port"}})],1)],1)})),r("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-input-driver-list",modifiers:{"collapse-input-driver-list":!0}}],attrs:{block:""},on:{click:function(e){return t.setPortName()}}},[t._v(" 完成連接埠設定 ")])],2)],1),r("div",{directives:[{name:"show",rawName:"v-show",value:t.show.driverInputList,expression:"show.driverInputList"}],staticClass:"my-3",attrs:{id:"collapse-input-driver-list"}},[r("b-card",{attrs:{"bg-variant":"light"}},[r("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"3",label:"輸入驅動程式設定","label-size":"lg","label-class":"font-weight-bold pt-0"}},[r("b-btn",{on:{click:function(e){return t.addInputDriver()}}},[t._v(" 新增驅動程式設定欄位 ")]),t._l(t.inputs.driver,(function(e,s){return r("div",{key:s},[r("h4",{staticClass:"text-left"},[t._v(" "+t._s(s+1)+". ")]),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"模組名稱：","label-align-sm":"right","label-for":"driver-list-model"}},[r("b-form-select",{attrs:{id:"driver-list-model",options:t.response.model},model:{value:e.model,callback:function(r){t.$set(e,"model",r)},expression:"item.model"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"連接埠：","label-align-sm":"right","label-for":"driver-list-port"}},[r("b-form-select",{attrs:{id:"driver-list-port",options:t.response.port},model:{value:e.port,callback:function(r){t.$set(e,"port",r)},expression:"item.port"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"記憶體位址：","label-align-sm":"right","label-for":"driver-list-address"}},[r("b-form-input",{attrs:{id:"driver-list-address",type:"number",placeholder:"Input the driver's address."},model:{value:e.address,callback:function(r){t.$set(e,"address",r)},expression:"item.address"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"設定檔：","label-align-sm":"right","label-for":"driver-list-config"}},[r("b-form-input",{attrs:{id:"driver-list-config",type:"text",placeholder:"Input the driver's config."},model:{value:e.config,callback:function(r){t.$set(e,"config",r)},expression:"item.config"}})],1)],1)})),r("b-btn",{attrs:{block:""},on:{click:function(e){return t.writeConfig()}}},[t._v(" 更新驅動程式設定 ")])],2)],1)],1)],1)],1)},o=[],l=(r("4160"),r("b0c0"),r("159b"),r("bc3a")),i=r.n(l),a={data:function(){return{inputs:{port:[],driver:[]},response:{port:[],model:[],msg:""},options:{port:{value:["/dev/ttyUSB0","/dev/ttyUSB1","/dev/ttyUSB2","/dev/ttyUSB3"]}},show:{driverInputList:!1}}},beforeMount:function(){var t=this,e=this.$store.state.url;i.a.get(e+"/api/config/model").then((function(e){e.data.forEach((function(e){t.response.model.push({value:e.name,text:e.name})}))})),i.a.get(e+"/api/config").then((function(e){t.inputs.port=e.data.port,t.inputs.driver=e.data.driver,console.log(e.data)}))},methods:{writeConfig:function(){var t=this.$store.state.url;this.inputs.driver.forEach((function(t){t.address=parseInt(t.address)}));var e={port:this.inputs.port,driver:this.inputs.driver};console.log(e),i.a.post(t+"/api/config",e).then((function(t){"Success"===t.data.message&&alert("驅動程式更新成功！")}))},addInputPort:function(){this.inputs.port.push({name:"",port:""})},addInputDriver:function(){this.inputs.driver.push({address:"",config:"",model:"",port:""})},setPortName:function(){var t=this;this.show.driverInputList=!0,this.response.port=[],this.inputs.port.forEach((function(e){t.response.port.push({text:e.port,value:e.name})})),console.log(this.response.port)}}},n=a,p=r("2877"),d=Object(p["a"])(n,s,o,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d213377.d05ee1cd.js.map