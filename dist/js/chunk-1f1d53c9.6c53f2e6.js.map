{"version":3,"sources":["webpack:///./src/views/PageCentralSystem.vue?7c21","webpack:///src/views/PageCentralSystem.vue","webpack:///./src/views/PageCentralSystem.vue?3b6c","webpack:///./src/views/PageCentralSystem.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","deviceList","on","readCentralSystem","model","value","callback","$$v","systemSelected","expression","_v","_s","deviceName","_l","myJson","theArray","key","item","index","staticStyle","deviceAmount","error","status","name","_e","staticRenderFns","component"],"mappings":"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","file":"js/chunk-1f1d53c9.6c53f2e6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('main',[_c('b-container',[_c('b-card',{staticClass:\"mb-3\",attrs:{\"bg-variant\":\"light\"}},[_c('b-form-group',{staticClass:\"mb-3\",attrs:{\"label\":\"選擇中控系統：\",\"label-cols-lg\":\"2\",\"label-size\":\"lg\",\"label-class\":\"font-weight-bold pt-1\"}},[_c('b-form-select',{attrs:{\"options\":_vm.deviceList},on:{\"change\":_vm.readCentralSystem},model:{value:(_vm.systemSelected),callback:function ($$v) {_vm.systemSelected=$$v},expression:\"systemSelected\"}})],1)],1)],1),_c('b-container',[_c('h3',[_vm._v(_vm._s(_vm.deviceName[_vm.systemSelected]))]),_c('div',{staticClass:\"border-top\"},_vm._l((_vm.myJson[_vm.systemSelected]),function(theArray,key){return _c('b-row',{key:key,staticClass:\"mb-1\"},_vm._l((theArray),function(item,index){return _c('b-col',{key:index,staticClass:\"p-3\",staticStyle:{\"height\":\"200px\"},attrs:{\"lg\":12/_vm.deviceAmount[_vm.systemSelected]}},[(item.error === 0)?_c('div',[(item.status === 0)?_c('b-card',{attrs:{\"header\":item.name,\"header-tag\":\"header\"}},[_c('b-card-text'),_c('b-row',[_c('b-col',{staticClass:\"mb-2\",staticStyle:{\"color\":\"darkgray\"},attrs:{\"cols\":\"12\"}},[_c('b-icon-dash-circle-fill',{staticClass:\"mx-1\"}),_c('span',[_vm._v(\"設備未啟動\")])],1)],1)],1):_vm._e(),(item.status === 1)?_c('b-card',{attrs:{\"header\":item.name,\"header-tag\":\"header\",\"header-text-variant\":\"white\",\"header-bg-variant\":\"success\",\"border-variant\":\"success\"}},[_c('b-card-text'),_c('b-row',[_c('b-col',{staticClass:\"mb-2\",staticStyle:{\"color\":\"#42b983\"},attrs:{\"cols\":\"12\"}},[_c('b-icon-check-square-fill',{staticClass:\"mx-1\"}),_c('span',[_vm._v(\"設備運行中\")])],1)],1)],1):_vm._e()],1):_c('div',[(item.error === 1)?_c('b-card',{attrs:{\"header\":item.name,\"header-tag\":\"header\",\"header-text-variant\":\"white\",\"header-bg-variant\":\"danger\",\"border-variant\":\"danger\"}},[_c('b-card-text'),_c('b-row',[_c('b-col',{staticClass:\"mb-2\",staticStyle:{\"color\":\"lightcoral\"},attrs:{\"cols\":\"12\"}},[_c('b-icon-exclamation-triangle-fill',{staticClass:\"mx-1\"}),_c('span',[_vm._v(\"系統偵測到錯誤\")])],1)],1)],1):_c('b-card',{attrs:{\"header\":item.name,\"header-tag\":\"header\"}},[_c('b-card-text'),_c('b-row',[_c('b-col',{staticClass:\"mb-2\",staticStyle:{\"color\":\"darkgray\"},attrs:{\"cols\":\"12\"}},[_c('b-icon-clock-history',{staticClass:\"mx-1\"}),_c('span',[_vm._v(\"等待設備回應...\")])],1)],1)],1)],1)])}),1)}),1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <main>\n    <b-container>\n      <b-card\n        bg-variant=\"light\"\n        class=\"mb-3\"\n      >\n        <b-form-group\n          label=\"選擇中控系統：\"\n          label-cols-lg=\"2\"\n          label-size=\"lg\"\n          label-class=\"font-weight-bold pt-1\"\n          class=\"mb-3\"\n        >\n          <b-form-select\n            v-model=\"systemSelected\"\n            :options=\"deviceList\"\n            @change=\"readCentralSystem\"\n          />\n        </b-form-group>\n      </b-card>\n    </b-container>\n    <b-container>\n      <h3>{{ deviceName[systemSelected] }}</h3>\n      <div class=\"border-top\">\n        <b-row\n          v-for=\"(theArray,key) in myJson[systemSelected]\"\n          :key=\"key\"\n          class=\"mb-1\"\n        >\n          <b-col\n            v-for=\"(item,index) in theArray\"\n            :key=\"index\"\n            :lg=\"12/deviceAmount[systemSelected]\"\n            class=\"p-3\"\n            style=\"height: 200px\"\n          >\n            <div\n              v-if=\"item.error === 0\"\n            >\n              <b-card\n                v-if=\"item.status === 0\"\n                :header=\"item.name\"\n                header-tag=\"header\"\n              >\n                <b-card-text />\n                <b-row>\n                  <b-col\n                    cols=\"12\"\n                    class=\"mb-2\"\n                    style=\"color: darkgray\"\n                  >\n                    <b-icon-dash-circle-fill class=\"mx-1\" />\n                    <span>設備未啟動</span>\n                  </b-col>\n                </b-row>\n              </b-card>\n              <b-card\n                v-if=\"item.status === 1\"\n                :header=\"item.name\"\n                header-tag=\"header\"\n                header-text-variant=\"white\"\n                header-bg-variant=\"success\"\n                border-variant=\"success\"\n              >\n                <b-card-text />\n                <b-row>\n                  <b-col\n                    cols=\"12\"\n                    class=\"mb-2\"\n                    style=\"color: #42b983\"\n                  >\n                    <b-icon-check-square-fill class=\"mx-1\" />\n                    <span>設備運行中</span>\n                  </b-col>\n                </b-row>\n              </b-card>\n            </div>\n            <div v-else>\n              <b-card\n                v-if=\"item.error === 1\"\n                :header=\"item.name\"\n                header-tag=\"header\"\n                header-text-variant=\"white\"\n                header-bg-variant=\"danger\"\n                border-variant=\"danger\"\n              >\n                <b-card-text />\n                <b-row>\n                  <b-col\n                    cols=\"12\"\n                    class=\"mb-2\"\n                    style=\"color: lightcoral\"\n                  >\n                    <b-icon-exclamation-triangle-fill class=\"mx-1\" />\n                    <span>系統偵測到錯誤</span>\n                  </b-col>\n                </b-row>\n              </b-card>\n              <b-card\n                v-else\n                :header=\"item.name\"\n                header-tag=\"header\"\n              >\n                <b-card-text />\n                <b-row>\n                  <b-col\n                    cols=\"12\"\n                    class=\"mb-2\"\n                    style=\"color: darkgray\"\n                  >\n                    <b-icon-clock-history class=\"mx-1\" />\n                    <span>等待設備回應...</span>\n                  </b-col>\n                </b-row>\n              </b-card>\n            </div>\n          </b-col>\n        </b-row>\n      </div>\n    </b-container>\n  </main>\n</template>\n\n<script>\n    import point from \"../assets/doc/point-table.json\"\n\n    export default {\n        name: \"PageCentralSystem\",\n        data() {\n            return {\n                myJson: point,\n                systemSelected: \"\",\n                deviceList: [\n                    {text: \"揚水系統\", value: \"lifting_pump\"},\n                    {text: \"廢水系統\", value: \"waste_water\"},\n                    {text: \"污水系統\", value: \"sewage\"},\n                    {text: \"進出風系統\", value: \"fan\"},\n                ],\n                deviceAmount: {\n                    \"lifting_pump\": 2,\n                    \"waste_water\": 3,\n                    \"sewage\": 3,\n                    \"fan\": 1,\n                },\n                deviceName: {\n                    \"lifting_pump\": \"揚水系統\",\n                    \"waste_water\": \"廢水系統\",\n                    \"sewage\": \"汙水系統\",\n                    \"fan\": \"進出風系統\",\n                }\n            }\n        },\n        created() {\n        },\n        methods: {\n            readCentralSystem() {\n                let apiURL = \"/api/device/value/read_\" + this.systemSelected\n                this.axios.get(apiURL).then(\n                    (response) => {\n                        console.log(response)\n                        let rex = /^DIn/\n                        response.data.forEach((item) => {\n                            if (rex.test(item.name)) {\n                                this.myJson[this.systemSelected][item.address].forEach((device) => {\n                                    if (device.status === item.name) {\n                                        device.status = item.status\n                                    } else if (device.error === item.name) {\n                                        device.error = item.status\n                                    }\n                                })\n                            }\n                        })\n                    }\n                ).catch((error) => {\n                    console.log(error)\n                })\n            },\n            Alert() {\n                alert(this.systemSelected)\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageCentralSystem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PageCentralSystem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PageCentralSystem.vue?vue&type=template&id=5664cfdb&scoped=true&\"\nimport script from \"./PageCentralSystem.vue?vue&type=script&lang=js&\"\nexport * from \"./PageCentralSystem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5664cfdb\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}