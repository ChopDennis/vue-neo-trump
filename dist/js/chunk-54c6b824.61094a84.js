(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54c6b824"],{"1c4e":function(t,e,s){},"346e":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("span",{staticClass:"fa toggle",class:{"fa-toggle-on":t.toggled,"fa-toggle-off":!t.toggled,"text-success":t.toggled,"text-muted":!t.toggled},on:{click:t.toggleButton}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.label,expression:"label"}],staticClass:"toggle-label"},[t._v(t._s(t.label))])])},o=[],l={name:"ElementSwitchToggle",props:{toggled:{type:Boolean,default:!1,required:!0},label:{type:String,default:"",required:!1}},methods:{toggleButton:function(){this.$emit("toggleButton")}}},n=l,i=(s("9fdf"),s("2877")),c=Object(i["a"])(n,a,o,!1,null,"7b31396e",null);e["a"]=c.exports},5543:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-container",[s("b-card",{attrs:{"bg-variant":"light"}},[s("b-row",{staticClass:"mb-3"},[s("b-col",{attrs:{cols:"8",lg:"4"}},[s("h5",{staticClass:"d-none d-lg-block font-weight-bold"},[s("span",{staticClass:"fa fa-power-off mx-3"}),t._v("主機開關 ")]),s("h5",{staticClass:"d-lg-none",staticStyle:{"line-height":"40px"}},[s("span",{staticClass:"fa fa-power-off mx-3"}),t._v("主機開關 ")])]),s("b-col",{attrs:{cols:"4"}},[s("ElementSwitchToggle",{attrs:{toggled:t.$store.state.system.mainframe.toggled},on:{"update:toggled":function(e){return t.$set(t.$store.state.system.mainframe,"toggled",e)},toggleButton:t.changeToggleValue}})],1)],1),s("b-form-group",{staticClass:"mb-3",attrs:{"label-cols-lg":"4",label:"目前主機名稱：","label-size":"lg","label-class":"font-weight-bold pt-0"}},[s("b-form-input",{attrs:{disabled:""},model:{value:t.hostnameOld,callback:function(e){t.hostnameOld=e},expression:"hostnameOld"}})],1),s("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"4",label:"更新主機名稱：","label-size":"lg","label-class":"font-weight-bold pt-0"}},[s("b-form-input",{model:{value:t.hostname,callback:function(e){t.hostname=e},expression:"hostname"}})],1),s("div",{staticClass:"m-auto w-25"},[s("b-btn",{staticClass:"my-3",attrs:{block:""},on:{click:t.postHostname}},[t._v(" 送出 ")])],1),s("div",{staticClass:"bg-white border-info border p-3 rounded-lg overflow-auto",staticStyle:{"max-height":"80vh"}},[s("pre",{staticClass:"text-left"},[t._v(t._s(t.log))])])],1)],1)],1)},o=[],l=s("bc3a"),n=s.n(l),i=s("346e"),c={name:"SystemMainframe",components:{ElementSwitchToggle:i["a"]},data:function(){return{log:"",hostname:"",hostnameOld:""}},beforeMount:function(){this.mainframeControl("log"),this.mainframeControl("status")},beforeCreate:function(){var t=this;n.a.get(this.$store.state.url+"/api/system/hostname").then((function(e){console.log(e),t.hostname=e.data.hostname,t.hostnameOld=e.data.hostname})).catch((function(t){console.log(t)}))},methods:{changeToggleValue:function(){var t=this.$store.state.system.mainframe.toggled;t=!t,this.$store.state.system.mainframe.toggled=t,t?(this.mainframeControl("start"),console.log("START")):(this.mainframeControl("stop"),console.log("STOP")),console.log(t),this.mainframeControl("log"),this.mainframeControl("status")},mainframeControl:function(t){var e=this,s={name:"mainframe",action:t};n.a.post(this.$store.state.url+"/api/system/systemd",s).then((function(s){"log"===t?e.log=s.data.message:"status"===t&&(e.status=s.data.message,e.$store.state.system.mainframe.toggled="on"===s.data.message,console.log("Status: ",s.data.message),console.log(e.$store.state.system.mainframe.toggled))})).catch((function(t){console.log(t)}))},postHostname:function(){var t={hostname:this.hostname};n.a.post(this.$store.state.url+"/api/system/hostname",t).then((function(t){console.log(t),"Success"===t.data.status&&alert("主機名稱更新成功！")})).catch((function(t){console.log(t)}))}}},r=c,g=(s("e63d"),s("2877")),m=Object(g["a"])(r,a,o,!1,null,"b128c8c0",null);e["default"]=m.exports},"62c3":function(t,e,s){},"9fdf":function(t,e,s){"use strict";var a=s("62c3"),o=s.n(a);o.a},e63d:function(t,e,s){"use strict";var a=s("1c4e"),o=s.n(a);o.a}}]);
//# sourceMappingURL=chunk-54c6b824.61094a84.js.map